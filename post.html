<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>帖子详情</title>
    <link rel="stylesheet" href="style.css">
    <script src="app.js"></script>
</head>
<body>
    <div class="container">
        <h1>帖子详情</h1>
        <div id="postDetail"></div>
        <button onclick="window.history.back()">返回</button>
    </div>

    <script>
        // 获取帖子ID
        const postId = new URLSearchParams(window.location.search).get('id');
        const posts = JSON.parse(localStorage.getItem('mcPosts')).posts;
        const post = posts.find(p => p.id === Number(postId));

        if (post) {
            document.getElementById('postDetail').innerHTML = `
                <h2>${post.title}</h2>
                <p class="post-meta">
                    版本：${post.version} 
                    ${post.loader ? `| 加载器：${post.loader}` : ''}
                    | 发布时间：${post.timestamp}
                </p>
                <div class="post-content">${post.content.replace(/\n/g, '<br>')}</div>
                ${post.playstyles ? `<div class="playstyles">玩法：${post.playstyles}</div>` : ''}
                <div class="contact-info">📧 联系方式：${post.contact}</div>
            `;
        } else {
            document.getElementById('postDetail').innerHTML = '<p>帖子未找到</p>';
        }
    </script>
</body>
</html> 